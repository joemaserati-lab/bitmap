
:root{--bg:#fff;--fg:#000;--line:#000;--muted:#666}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);font-family:JetBrains Mono,monospace;overflow:hidden}
.topbar{height:56px;display:flex;align-items:center;padding:0 12px;border-bottom:1px solid var(--line);font-weight:700}
.layout{display:flex;height:calc(100vh - 56px);gap:0;overflow:hidden}
.preview-area{flex:1;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;padding:8px;min-height:0;gap:8px}
.preview-box{flex:1;min-height:0;width:100%;max-width:100%;display:flex;align-items:center;justify-content:center;background:#fff;border-right:1px solid var(--line);overflow:hidden;padding:8px}
#preview .preview-frame{display:flex;align-items:center;justify-content:center;max-width:100%;max-height:100%;}
#preview svg,#preview img{width:100%;height:100%;max-width:100%;max-height:100%;image-rendering:pixelated}
.preview-footer{display:flex;align-items:center;justify-content:space-between;gap:8px}
.preview-footer .meta{flex:1;min-width:0}
.preview-toggle{padding:8px 14px;border:1px solid var(--line);border-radius:8px;background:var(--bg);font-weight:600;text-transform:uppercase;font-size:11px;letter-spacing:.06em;cursor:pointer;transition:background .2s,border-color .2s,color .2s}
.preview-toggle:hover:not([disabled]){background:#f0f0f0}
.preview-toggle[disabled]{opacity:0.5;cursor:not-allowed}
.controls-panel{width:380px;border-left:1px solid var(--line);display:flex;flex-direction:column;gap:8px;padding:8px;background:#fff;min-height:0;overflow:hidden}
.controls-top{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:4px}
.file-btn{position:relative;display:inline-flex;align-items:center;justify-content:center;padding:10px 16px;border:1px solid var(--line);border-radius:8px;font-weight:600;cursor:pointer;background:var(--bg);transition:background .2s,border-color .2s,color .2s;text-transform:uppercase;font-size:12px;letter-spacing:.06em}
.file-btn:hover{background:#f0f0f0}
.file-btn input{position:absolute;inset:0;opacity:0;cursor:pointer}
.primary-file{min-width:160px}
.mobile-only{display:none}
.dropzone{flex:1 1 220px;display:flex;align-items:center;justify-content:center;border:1px dashed var(--line);padding:12px;border-radius:8px;text-align:center;font-weight:600;text-transform:uppercase;font-size:12px;letter-spacing:.06em;cursor:pointer;transition:background .2s,border-color .2s}
.dropzone:hover,.dropzone:focus-visible{outline:none;background:#f0f0f0;border-color:#333}
.dropzone.is-dragover{background:#e6f3ff;border-color:#1a73e8}
.upload-feedback{flex:1 1 100%;display:flex;flex-direction:column;gap:4px;font-size:11px;letter-spacing:.05em;text-transform:uppercase}
.upload-message{font-weight:600;word-break:break-word}
.upload-progress{position:relative;width:100%;height:6px;background:#e6e6e6;border-radius:999px;overflow:hidden}
.upload-progress[hidden]{display:none}
.upload-progress .progress-bar{position:absolute;inset:0 auto 0 0;height:100%;width:0;background:#1a73e8;transition:width .2s ease}
.upload-progress.is-indeterminate .progress-bar{width:40%;animation:uploadPulse 1.2s infinite ease-in-out}
@keyframes uploadPulse{0%{margin-left:-40%}50%{margin-left:20%}100%{margin-left:100%}}
.controls-body{flex:1;overflow:auto;padding:4px;min-height:0}
.field{margin-bottom:10px;display:flex;flex-direction:column;gap:6px}
.slider{display:flex;gap:8px;align-items:center}
.slider input[type='range']{flex:1;height:2px;background:#000;border-radius:4px}
.num{width:80px;padding:6px;border:1px solid var(--line);border-radius:8px}
.btn-row{display:flex;gap:8px;flex-wrap:wrap}
.btn-row + .btn-row{margin-top:6px}
.btn-row button[disabled]{opacity:0.5;cursor:not-allowed}
hr{border:0;border-top:1px solid #eee;margin:8px 0}
.muted{color:var(--muted);font-size:12px}
@media (max-width:900px){
  .layout{flex-direction:column}
  .controls-panel{width:100%;order:2;border-left:0;border-top:1px solid var(--line);padding:6px;flex:1 1 50%}
  .preview-area{order:1;padding:6px;flex:1 1 50%}
  .preview-footer{flex-direction:column;align-items:flex-start;gap:6px}
  .preview-toggle{width:100%}
  .mobile-only{display:inline-flex}
  .file-btn{width:100%}
  .dropzone{display:none}
  .upload-feedback{order:4;font-size:12px;text-transform:none;letter-spacing:0}
  .controls-body{display:flex;gap:8px;overflow:auto;padding:8px;flex-wrap:nowrap}
  .field{min-width:220px;flex:0 0 auto}
}
